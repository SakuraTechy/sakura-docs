import{_ as R,p as o,h as D,v as F,x as N,c as u,o as i,j as t,e as z,t as v,a0 as f,P as C,n as w,az as U,aA as W,a as j,F as G,B as I}from"./framework.DilU7MK7.js";const X="/assets/qrcode.BjnTPhTd.png",A=["muted","poster","autoplay"],J=["src"],K={class:"center-controls"},O={key:0,class:"play-button"},Q={key:1,class:"video-info"},Y={class:"video-title"},Z={class:"video-subtitle"},ee={class:"qr-code-tip"},te={class:"control-bar"},le={key:0,viewBox:"0 0 24 24",fill:"currentColor"},se={key:1,viewBox:"0 0 24 24",fill:"currentColor"},oe={class:"time-display"},ae={class:"volume-control"},ne={key:0,viewBox:"0 0 24 24",fill:"currentColor"},ue={key:1,viewBox:"0 0 24 24",fill:"currentColor"},ie={class:"right-controls"},re={key:0,class:"speed-menu"},ve=["onClick"],de={__name:"VideoGlass",props:{src:{type:String,required:!0},poster:{type:String,default:""},title:{type:String,default:"产品演示"},subtitle:{type:String,default:"探索创新科技"},qr_subtitle:{type:String,default:"更多请扫描二维码"},lazyLoad:{type:Boolean,default:!0},width:{type:String,default:"100%"},height:{type:String,default:"auto"},maxWidth:{type:String,default:"100%"},autoplay:{type:Boolean,default:!1}},setup(n){const a=o(null),b=o(null),L=o(null),r=o(!1),y=o(!1),d=o(!0),p=o(!1),c=o(!1),M=o(0),m=o(0),k=o(1),x=o(1),g=o(!1),E=D(()=>m.value===0?0:M.value/m.value*100),_=e=>{const l=Math.floor(e/60),s=Math.floor(e%60);return`${l}:${s<10?"0":""}${s}`},B=()=>{const e=a.value;e&&(e.paused?(e.play(),r.value=!0,y.value=!0):(e.pause(),r.value=!1))},P=()=>{d.value=!d.value,a.value&&(a.value.muted=d.value)},T=()=>{a.value&&(a.value.volume=k.value)},$=()=>{g.value=!g.value},q=e=>{x.value=e,a.value&&(a.value.playbackRate=e),g.value=!1},H=e=>{p.value=!0,c.value=!0,S(e);const l=h=>{p.value&&S(h)},s=()=>{p.value=!1,document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",s),c.value||(c.value=!1)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",s)},S=e=>{if(!L.value)return;const l=L.value.getBoundingClientRect(),s=e.clientX-l.left,h=Math.min(Math.max(s/l.width,0),1);a.value&&(a.value.currentTime=h*m.value,M.value=h*m.value)},V=()=>{b.value&&(document.fullscreenElement?document.exitFullscreen():b.value.requestFullscreen())};return F(()=>{const e=a.value;e&&(e.addEventListener("timeupdate",()=>{M.value=e.currentTime}),e.addEventListener("loadedmetadata",()=>{m.value=e.duration}),e.addEventListener("play",()=>{r.value=!0,y.value=!0}),e.addEventListener("pause",()=>{r.value=!1}),document.addEventListener("click",()=>{g.value=!1}),e.volume=k.value,e.muted=d.value)}),N(()=>{const e=a.value;e&&(e.removeEventListener("timeupdate",()=>{}),e.removeEventListener("loadedmetadata",()=>{}),e.removeEventListener("play",()=>{}),e.removeEventListener("pause",()=>{}),document.removeEventListener("click",()=>{}))}),(e,l)=>(i(),u("div",{class:w(["video-container glass",{"is-playing":r.value}]),style:C({width:n.width,height:n.height==="auto"?"auto":n.height,maxWidth:n.maxWidth}),ref_key:"containerRef",ref:b,onDblclick:V},[t("video",{ref_key:"videoRef",ref:a,loop:"",muted:d.value,playsinline:"",poster:n.poster,class:"video-element",preload:"metadata",autoplay:n.autoplay},[t("source",{src:n.src,type:"video/mp4"},null,8,J)],8,A),t("div",{class:"controls-overlay",onClick:B},[t("div",K,[!r.value&&!y.value?(i(),u("div",O,l[3]||(l[3]=[t("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M8 5v14l11-7z"})],-1)]))):z("",!0),!r.value&&y.value?(i(),u("div",Q,[t("p",Y,v(n.title),1),t("p",Z,v(n.subtitle),1),t("div",ee,[t("p",null,v(n.qr_subtitle),1),l[4]||(l[4]=t("img",{src:X,alt:"二维码",class:"qr-code-image"},null,-1))])])):z("",!0)]),t("div",te,[t("button",{class:"control-btn",onClick:f(B,["stop"])},[r.value?(i(),u("svg",le,l[5]||(l[5]=[t("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)]))):(i(),u("svg",se,l[6]||(l[6]=[t("path",{d:"M8 5v14l11-7z"},null,-1)])))]),t("div",oe,v(_(M.value))+" / "+v(_(m.value)),1),t("div",{class:"progress-container",ref_key:"progressContainer",ref:L,onMousedown:f(H,["stop"]),onMouseover:l[0]||(l[0]=s=>c.value=!0),onMouseleave:l[1]||(l[1]=s=>c.value=!!p.value)},[t("div",{class:"progress-bar",style:C({width:`${E.value}%`})},null,4),t("div",{class:w(["progress-handle",{active:p.value||c.value}]),style:C({left:`${E.value}%`})},null,6)],544),t("div",ae,[t("button",{class:"control-btn",onClick:f(P,["stop"])},[d.value?(i(),u("svg",ne,l[7]||(l[7]=[t("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"},null,-1)]))):(i(),u("svg",ue,l[8]||(l[8]=[t("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"},null,-1)])))]),U(t("input",{type:"range",min:"0",max:"1",step:"0.1","onUpdate:modelValue":l[2]||(l[2]=s=>k.value=s),class:"volume-slider",onInput:T},null,544),[[W,k.value]])]),t("div",ie,[t("button",{class:"control-btn speed-btn",onClick:f($,["stop"])},[j(v(x.value)+"x ",1),g.value?(i(),u("div",re,[(i(),u(G,null,I([.5,.75,1,1.25,1.5,2],s=>t("div",{key:s,class:w(["speed-option",{active:x.value===s}]),onClick:f(h=>q(s),["stop"])},v(s)+"x ",11,ve)),64))])):z("",!0)]),t("button",{class:"control-btn fullscreen-btn",onClick:f(V,["stop"])},l[9]||(l[9]=[t("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})],-1)]))])])])],38))}},me=R(de,[["__scopeId","data-v-0a697449"]]);export{me as default};
